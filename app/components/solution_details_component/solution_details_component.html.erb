<%= turbo_frame_tag(solution, :details, target: "_top") do %>
  <section data-controller="solution-details-component--solution-details-component">
    <header class="l-container l-container--narrow">
      <div class="l-container__inner solution-hero">
        <% if solution.logo.present? %>
          <figure class="solution-hero__figure">
            <%= image_tag solution.logo(:medium).url, alt: "", class: "solution-hero__logo" %>
          </figure>
        <% end %>
        <div class="solution-hero__text">
          <h1><%= solution.name %></h1>
          <div class="text-lg font-semibold">
            <%= solution.organization.name %>
          </div>
          <%= render_location %>
          <div class="a-underline"></div>
          <div class="pt-[1.625rem]">
            <% if solution.website? %>
              <a href="<%= solution.website %>" class="m-button m-button--lg bg-brand-mint">
                <span><%= t(".website") %></span>
                <%= image_tag "icons/24/Link-External.svg", alt: "", class: "-ms-1" %>
              </a>
            <% end %>
            <% if solution.pricing? %>
              <% solution.pricing.links.each do |link| %>
                <a href="<%= link.url %>" class="m-button m-button--lg">
                  <span><%= link.label? ? link.label : t(".pricing") %></span>
                  <%= image_tag "icons/24/Link-External.svg", alt: "", class: "-ms-1" %>
                </a>
              <% end %>
            <% end %>
            <% if solution.contact? %>
              <a href="<%= solution.contact %>" class="m-button m-button--lg">
                <span><%= t(".contact") %></span>
                <%= image_tag "icons/24/Link-External.svg", alt: "", class: "-ms-1" %>
              </a>
            <% end %>
          </div>
        </div>
      </div>
    </header>
    <nav class="l-container l-container--narrow bg-neutral-20 solution-nav">
      <ul class="l-container__inner solution-nav__list">
        <li>
          <a href="#about" class="solution-nav__link">
            <%= t(".about.nav") %>
          </a>
        </li><li>
          <a href="#mission" class="solution-nav__link">
            <%= t(".mission.nav") %>
          </a>
        </li><li>
          <a href="#technical" class="solution-nav__link">
            <%= t(".technical.nav") %>
          </a>
        </li><li>
          <a href="#community" class="solution-nav__link">
            <%= t(".community.nav") %>
          </a>
        </li><li>
          <a href="#policies" class="solution-nav__link">
            <%= t(".policies.nav") %>
          </a>
        </li><li>
          <a href="#additional_information" class="solution-nav__link">
            <%= t(".additional_information.nav") %>
          </a>
        </li><li>
          <a href="#funding" class="solution-nav__link">
            <%= t(".funding.nav") %>
          </a>
        </li>
      </ul>
    </nav>
    <div class="l-container l-container--narrow pt-[5rem] pb-[6.25rem]">
      <article id="about" class="l-container__inner space-y-[2.0625rem] pt-[5rem]">
        <h2 class="a-underline mb-3"><%= t(".about.heading") %></h2>
        <div class="border-b flex flex-wrap gap-y-2 justify-between pb-4 max-w-text">
          <div class="font-light">
            <%= t(".about.launched") %> <span class="font-semibold"><%= solution.founded_on.to_fs(:year) %></span>
          </div>
          <div class="font-light">
            <%= t(".about.record_updated") %> <span class="font-semibold"><%= solution.updated_at.to_fs(:mdy) %></span>
          </div>
        </div>
        <%= render_category_badges %>
        <div class="py-[2.0625rem] border-y t-rte">
          <%= sanitize solution.service_summary %>
        </div>
      </article>
      <article id="mission" class="l-container__inner pt-[5rem]">
        <h2 class="a-underline"><%= t(".mission.heading") %></h2>
        <% if solution.mission? %>
          <div class="t-rte pt-[1.875rem]">
            <%= sanitize solution.mission %>
          </div>
        <% end %>
        <% if solution.key_achievements? %>
          <div class="t-rte bg-white p-10 pt-8 mt-[3.75rem] rounded-lg">
            <h3 class="text-h4">Key Achievements</h3>
            <%= sanitize solution.key_achievements %>
          </div>
        <% end %>
      </article>
      <article id="technical" class="l-container__inner pt-[5rem]">
        <h2 class="a-underline"><%= t(".technical.heading") %></h2>
      </article>
      <article id="community" class="l-container__inner pt-[5rem]">
        <h2 class="a-underline"><%= t(".community.heading") %></h2>
      </article>
      <article id="policies" class="l-container__inner pt-[5rem]">
        <h2 class="a-underline"><%= t(".policies.heading") %></h2>
      </article>
      <article id="additional_information" class="l-container__inner pt-[5rem]">
        <h2 class="a-underline"><%= t(".additional_information.heading") %></h2>
      </article>
      <article id="funding" class="l-container__inner pt-[5rem]">
        <h2 class="a-underline"><%= t(".funding.heading") %></h2>
      </article>
    </div>
  </section>
<% end %>
